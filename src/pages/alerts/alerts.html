<!--
  Generated template for the TagsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Alertas de Usuarios</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <ion-row>
    <ion-col col-12>
      <p>Por favor, contacte con estos usuarios Ãºnicamente si puede prestarles ayuda.</p>
    </ion-col>
  </ion-row>

  <ion-list>

    <ion-item *ngFor="let alert of alerts">
      <ion-row class="align-vertically" *ngIf="alert.user_id != user.id" (click)="goChat(alert.user, alert.id)">
        <ion-col col-3>
          <ion-avatar>
            <img class='img-fluid profile' src="{{fileUrl}}/avatars/{{alert.user.photo}}" alt="">
          </ion-avatar>
        </ion-col>
        <ion-col col-9>
          <h2><strong>{{alert.user.name}}</strong>
            <small *ngIf="calcDistance(user, alert.user) >= 1">{{calcDistance(user, alert.user)}} km</small>
            <small *ngIf="calcDistance(user, alert.user) < 1"><1 km</small>
          </h2>
          <p>{{alert.description}}</p>
        </ion-col>
      </ion-row>

      <ion-row class="align-vertically" *ngIf="alert.user_id == user.id" class="selfAlert">
        <ion-col col-3>
          <ion-avatar>
            <img class='img-fluid profile' src="{{fileUrl}}/avatars/{{alert.user.photo}}" alt="">
          </ion-avatar>
        </ion-col>
        <ion-col col-9>
          <h2>Tu</h2>
          <p>{{alert.description}}</p>
        </ion-col>
      </ion-row>
    </ion-item>

  </ion-list>

</ion-content>
